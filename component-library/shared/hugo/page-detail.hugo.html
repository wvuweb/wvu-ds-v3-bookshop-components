{{ if and .topper .topper._bookshop_name }}
  {{ partial "bookshop" (slice .topper._bookshop_name (dict "topper" .topper "title" .title "params" .params)) }}
{{ else }}
  {{ partial "bookshop" (slice "design-system/topper/default" (dict "topper" .topper "title" .title "params" .params)) }}
{{ end }}

<main class="py-6 tone-default bg-option-1 wvu-b-subtle">
  <div class="container text-dark">
    <div class="row gx-xxl-6 mb-n5">
      {{ if .subnav_items }}
        <div class="col-24 col-xl-6 mb-6 mb-xl-5">
          <h2 class="wvu-b-label h6 mb-4">{{ .subnav_label }}</h2>
          <ul class="nav flex-column border-top border-4 border-wvu-gold">
            {{ range .subnav_items }}
              <li class="nav-item"><a class="nav-link py-3 text-dark border-bottom border-1 border-black-50 d-flex justify-content-between align-items-center" href="{{ .url }}"><span>{{ .text }}</span> <span class="fa-solid fa-chevron-right text-wvu-coopers-gray"></span></a></li>
            {{ end }}
          </ul>
        </div>
      {{ end }}
      <div class="col-md mb-5 wvu-backpage-main" {{ if and .Params.properties .Params.properties.include_in_search_results }}data-pagefind-body{{ end }}>
        {{ range .detail_blocks }}
          <div class="mb-5">
            {{ partial "bookshop" . }}
          </div>
        {{ end }}
      </div>
      {{ if .sidebar_blocks }}
        <div class="col-md-8 col-xl-6 mb-5" data-pagefind-ignore="all">
          <div class="c-jump-links mb-5 pt-5 mt-n5 sticky-top">
            {{ range .sidebar_blocks }}
              {{ partial "bookshop" . }}
            {{ end }}
          </div>
        </div>
      {{ end }}
    </div>
  </div>
</main>